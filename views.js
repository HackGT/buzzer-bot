const timeOptions = [
    {
        "text": {
            "type": "plain_text",
            "text": "12:00 AM",
            "emoji": true
        },
        "value": "12:00 AM"
    },
    {
        "text": {
            "type": "plain_text",
            "text": "12:15 AM",
            "emoji": true
        },
        "value": "12:15 AM"
    },
    {
        "text": {
            "type": "plain_text",
            "text": "12:30 AM",
            "emoji": true
        },
        "value": "12:30 AM"
    },
    {
        "text": {
            "type": "plain_text",
            "text": "12:45 AM",
            "emoji": true
        },
        "value": "12:45 AM"
    },
    {
        "text": {
            "type": "plain_text",
            "text": "1:00 AM",
            "emoji": true
        },
        "value": "1:00 AM"
    },
    {
        "text": {
            "type": "plain_text",
            "text": "1:15 AM",
            "emoji": true
        },
        "value": "1:15 AM"
    },
    {
        "text": {
            "type": "plain_text",
            "text": "1:30 AM",
            "emoji": true
        },
        "value": "1:30 AM"
    },
    {
        "text": {
            "type": "plain_text",
            "text": "1:45 AM",
            "emoji": true
        },
        "value": "1:45 AM"
    },
    {
        "text": {
            "type": "plain_text",
            "text": "2:00 AM",
            "emoji": true
        },
        "value": "2:00 AM"
    },
    {
        "text": {
            "type": "plain_text",
            "text": "2:15 AM",
            "emoji": true
        },
        "value": "2:15 AM"
    },
    {
        "text": {
            "type": "plain_text",
            "text": "2:30 AM",
            "emoji": true
        },
        "value": "2:30 AM"
    },
    {
        "text": {
            "type": "plain_text",
            "text": "2:45 AM",
            "emoji": true
        },
        "value": "2:45 AM"
    },
    {
        "text": {
            "type": "plain_text",
            "text": "3:00 AM",
            "emoji": true
        },
        "value": "3:00 AM"
    },
    {
        "text": {
            "type": "plain_text",
            "text": "3:15 AM",
            "emoji": true
        },
        "value": "3:15 AM"
    },
    {
        "text": {
            "type": "plain_text",
            "text": "3:30 AM",
            "emoji": true
        },
        "value": "3:30 AM"
    },
    {
        "text": {
            "type": "plain_text",
            "text": "3:45 AM",
            "emoji": true
        },
        "value": "3:45 AM"
    },
    {
        "text": {
            "type": "plain_text",
            "text": "4:00 AM",
            "emoji": true
        },
        "value": "4:00 AM"
    },
    {
        "text": {
            "type": "plain_text",
            "text": "4:15 AM",
            "emoji": true
        },
        "value": "4:15 AM"
    },
    {
        "text": {
            "type": "plain_text",
            "text": "4:30 AM",
            "emoji": true
        },
        "value": "4:30 AM"
    },
    {
        "text": {
            "type": "plain_text",
            "text": "4:45 AM",
            "emoji": true
        },
        "value": "4:45 AM"
    },
    {
        "text": {
            "type": "plain_text",
            "text": "5:00 AM",
            "emoji": true
        },
        "value": "5:00 AM"
    },
    {
        "text": {
            "type": "plain_text",
            "text": "5:15 AM",
            "emoji": true
        },
        "value": "5:15 AM"
    },
    {
        "text": {
            "type": "plain_text",
            "text": "5:30 AM",
            "emoji": true
        },
        "value": "5:30 AM"
    },
    {
        "text": {
            "type": "plain_text",
            "text": "5:45 AM",
            "emoji": true
        },
        "value": "5:45 AM"
    },
    {
        "text": {
            "type": "plain_text",
            "text": "6:00 AM",
            "emoji": true
        },
        "value": "6:00 AM"
    },
    {
        "text": {
            "type": "plain_text",
            "text": "6:15 AM",
            "emoji": true
        },
        "value": "6:15 AM"
    },
    {
        "text": {
            "type": "plain_text",
            "text": "6:30 AM",
            "emoji": true
        },
        "value": "6:30 AM"
    },
    {
        "text": {
            "type": "plain_text",
            "text": "6:45 AM",
            "emoji": true
        },
        "value": "6:45 AM"
    },
    {
        "text": {
            "type": "plain_text",
            "text": "7:00 AM",
            "emoji": true
        },
        "value": "7:00 AM"
    },
    {
        "text": {
            "type": "plain_text",
            "text": "7:15 AM",
            "emoji": true
        },
        "value": "7:15 AM"
    },
    {
        "text": {
            "type": "plain_text",
            "text": "7:30 AM",
            "emoji": true
        },
        "value": "7:30 AM"
    },
    {
        "text": {
            "type": "plain_text",
            "text": "7:45 AM",
            "emoji": true
        },
        "value": "7:45 AM"
    },
    {
        "text": {
            "type": "plain_text",
            "text": "8:00 AM",
            "emoji": true
        },
        "value": "8:00 AM"
    },
    {
        "text": {
            "type": "plain_text",
            "text": "8:15 AM",
            "emoji": true
        },
        "value": "8:15 AM"
    },
    {
        "text": {
            "type": "plain_text",
            "text": "8:30 AM",
            "emoji": true
        },
        "value": "8:30 AM"
    },
    {
        "text": {
            "type": "plain_text",
            "text": "8:45 AM",
            "emoji": true
        },
        "value": "8:45 AM"
    },
    {
        "text": {
            "type": "plain_text",
            "text": "9:00 AM",
            "emoji": true
        },
        "value": "9:00 AM"
    },
    {
        "text": {
            "type": "plain_text",
            "text": "9:15 AM",
            "emoji": true
        },
        "value": "9:15 AM"
    },
    {
        "text": {
            "type": "plain_text",
            "text": "9:30 AM",
            "emoji": true
        },
        "value": "9:30 AM"
    },
    {
        "text": {
            "type": "plain_text",
            "text": "9:45 AM",
            "emoji": true
        },
        "value": "9:45 AM"
    },
    {
        "text": {
            "type": "plain_text",
            "text": "10:00 AM",
            "emoji": true
        },
        "value": "10:00 AM"
    },
    {
        "text": {
            "type": "plain_text",
            "text": "10:15 AM",
            "emoji": true
        },
        "value": "10:15 AM"
    },
    {
        "text": {
            "type": "plain_text",
            "text": "10:30 AM",
            "emoji": true
        },
        "value": "10:30 AM"
    },
    {
        "text": {
            "type": "plain_text",
            "text": "10:45 AM",
            "emoji": true
        },
        "value": "10:45 AM"
    },
    {
        "text": {
            "type": "plain_text",
            "text": "11:00 AM",
            "emoji": true
        },
        "value": "11:00 AM"
    },
    {
        "text": {
            "type": "plain_text",
            "text": "11:15 AM",
            "emoji": true
        },
        "value": "11:15 AM"
    },
    {
        "text": {
            "type": "plain_text",
            "text": "11:30 AM",
            "emoji": true
        },
        "value": "11:30 AM"
    },
    {
        "text": {
            "type": "plain_text",
            "text": "11:45 AM",
            "emoji": true
        },
        "value": "11:45 AM"
    },
    {
        "text": {
            "type": "plain_text",
            "text": "12:00 PM",
            "emoji": true
        },
        "value": "12:00 PM"
    },
    {
        "text": {
            "type": "plain_text",
            "text": "12:15 PM",
            "emoji": true
        },
        "value": "12:15 PM"
    },
    {
        "text": {
            "type": "plain_text",
            "text": "12:30 PM",
            "emoji": true
        },
        "value": "12:30 PM"
    },
    {
        "text": {
            "type": "plain_text",
            "text": "12:45 PM",
            "emoji": true
        },
        "value": "12:45 PM"
    },
    {
        "text": {
            "type": "plain_text",
            "text": "1:00 PM",
            "emoji": true
        },
        "value": "1:00 PM"
    },
    {
        "text": {
            "type": "plain_text",
            "text": "1:15 PM",
            "emoji": true
        },
        "value": "1:15 PM"
    },
    {
        "text": {
            "type": "plain_text",
            "text": "1:30 PM",
            "emoji": true
        },
        "value": "1:30 PM"
    },
    {
        "text": {
            "type": "plain_text",
            "text": "1:45 PM",
            "emoji": true
        },
        "value": "1:45 PM"
    },
    {
        "text": {
            "type": "plain_text",
            "text": "2:00 PM",
            "emoji": true
        },
        "value": "2:00 PM"
    },
    {
        "text": {
            "type": "plain_text",
            "text": "2:15 PM",
            "emoji": true
        },
        "value": "2:15 PM"
    },
    {
        "text": {
            "type": "plain_text",
            "text": "2:30 PM",
            "emoji": true
        },
        "value": "2:30 PM"
    },
    {
        "text": {
            "type": "plain_text",
            "text": "2:45 PM",
            "emoji": true
        },
        "value": "2:45 PM"
    },
    {
        "text": {
            "type": "plain_text",
            "text": "3:00 PM",
            "emoji": true
        },
        "value": "3:00 PM"
    },
    {
        "text": {
            "type": "plain_text",
            "text": "3:15 PM",
            "emoji": true
        },
        "value": "3:15 PM"
    },
    {
        "text": {
            "type": "plain_text",
            "text": "3:30 PM",
            "emoji": true
        },
        "value": "3:30 PM"
    },
    {
        "text": {
            "type": "plain_text",
            "text": "3:45 PM",
            "emoji": true
        },
        "value": "3:45 PM"
    },
    {
        "text": {
            "type": "plain_text",
            "text": "4:00 PM",
            "emoji": true
        },
        "value": "4:00 PM"
    },
    {
        "text": {
            "type": "plain_text",
            "text": "4:15 PM",
            "emoji": true
        },
        "value": "4:15 PM"
    },
    {
        "text": {
            "type": "plain_text",
            "text": "4:30 PM",
            "emoji": true
        },
        "value": "4:30 PM"
    },
    {
        "text": {
            "type": "plain_text",
            "text": "4:45 PM",
            "emoji": true
        },
        "value": "4:45 PM"
    },
    {
        "text": {
            "type": "plain_text",
            "text": "5:00 PM",
            "emoji": true
        },
        "value": "5:00 PM"
    },
    {
        "text": {
            "type": "plain_text",
            "text": "5:15 PM",
            "emoji": true
        },
        "value": "5:15 PM"
    },
    {
        "text": {
            "type": "plain_text",
            "text": "5:30 PM",
            "emoji": true
        },
        "value": "5:30 PM"
    },
    {
        "text": {
            "type": "plain_text",
            "text": "5:45 PM",
            "emoji": true
        },
        "value": "5:45 PM"
    },
    {
        "text": {
            "type": "plain_text",
            "text": "6:00 PM",
            "emoji": true
        },
        "value": "6:00 PM"
    },
    {
        "text": {
            "type": "plain_text",
            "text": "6:15 PM",
            "emoji": true
        },
        "value": "6:15 PM"
    },
    {
        "text": {
            "type": "plain_text",
            "text": "6:30 PM",
            "emoji": true
        },
        "value": "6:30 PM"
    },
    {
        "text": {
            "type": "plain_text",
            "text": "6:45 PM",
            "emoji": true
        },
        "value": "6:45 PM"
    },
    {
        "text": {
            "type": "plain_text",
            "text": "7:00 PM",
            "emoji": true
        },
        "value": "7:00 PM"
    },
    {
        "text": {
            "type": "plain_text",
            "text": "7:15 PM",
            "emoji": true
        },
        "value": "7:15 PM"
    },
    {
        "text": {
            "type": "plain_text",
            "text": "7:30 PM",
            "emoji": true
        },
        "value": "7:30 PM"
    },
    {
        "text": {
            "type": "plain_text",
            "text": "7:45 PM",
            "emoji": true
        },
        "value": "7:45 PM"
    },
    {
        "text": {
            "type": "plain_text",
            "text": "8:00 PM",
            "emoji": true
        },
        "value": "8:00 PM"
    },
    {
        "text": {
            "type": "plain_text",
            "text": "8:15 PM",
            "emoji": true
        },
        "value": "8:15 PM"
    },
    {
        "text": {
            "type": "plain_text",
            "text": "8:30 PM",
            "emoji": true
        },
        "value": "8:30 PM"
    },
    {
        "text": {
            "type": "plain_text",
            "text": "8:45 PM",
            "emoji": true
        },
        "value": "8:45 PM"
    },
    {
        "text": {
            "type": "plain_text",
            "text": "9:00 PM",
            "emoji": true
        },
        "value": "9:00 PM"
    },
    {
        "text": {
            "type": "plain_text",
            "text": "9:15 PM",
            "emoji": true
        },
        "value": "9:15 PM"
    },
    {
        "text": {
            "type": "plain_text",
            "text": "9:30 PM",
            "emoji": true
        },
        "value": "9:30 PM"
    },
    {
        "text": {
            "type": "plain_text",
            "text": "9:45 PM",
            "emoji": true
        },
        "value": "9:45 PM"
    },
    {
        "text": {
            "type": "plain_text",
            "text": "10:00 PM",
            "emoji": true
        },
        "value": "10:00 PM"
    },
    {
        "text": {
            "type": "plain_text",
            "text": "10:15 PM",
            "emoji": true
        },
        "value": "10:15 PM"
    },
    {
        "text": {
            "type": "plain_text",
            "text": "10:30 PM",
            "emoji": true
        },
        "value": "10:30 PM"
    },
    {
        "text": {
            "type": "plain_text",
            "text": "10:45 PM",
            "emoji": true
        },
        "value": "10:45 PM"
    },
    {
        "text": {
            "type": "plain_text",
            "text": "11:00 PM",
            "emoji": true
        },
        "value": "11:00 PM"
    },
    {
        "text": {
            "type": "plain_text",
            "text": "11:15 PM",
            "emoji": true
        },
        "value": "11:15 PM"
    },
    {
        "text": {
            "type": "plain_text",
            "text": "11:30 PM",
            "emoji": true
        },
        "value": "11:30 PM"
    },
    {
        "text": {
            "type": "plain_text",
            "text": "11:45 PM",
            "emoji": true
        },
        "value": "11:45 PM"
    },
]

const homeJson = (user) => {
    return {
        "user_id": user,
        "view": {
            "type": "home",
            "title": {
                "type": "plain_text",
                "text": "Buzzer App",
                "emoji": true
            },
            "blocks": homeJsonBlocks()
        }
    }
}

const homeJsonBlocks = () => {
    return [
        {
            "type": "section",
            "text": {
                "type": "mrkdwn",
                "text": "Which platform(s) would you like to notify?"
            },
            "accessory": {
                "type": "multi_static_select",
                "placeholder": {
                    "type": "plain_text",
                    "text": "Select items",
                    "emoji": true
                },
                "options": [
                    {
                        "text": {
                            "type": "plain_text",
                            "text": "Live Site",
                            "emoji": true
                        },
                        "value": "live_site"
                    },
                    {
                        "text": {
                            "type": "plain_text",
                            "text": "Twitter",
                            "emoji": true
                        },
                        "value": "twitter"
                    },
                    {
                        "text": {
                            "type": "plain_text",
                            "text": "Twilio",
                            "emoji": true
                        },
                        "value": "twilio"
                    },
                    {
                        "text": {
                            "type": "plain_text",
                            "text": "Slack",
                            "emoji": true
                        },
                        "value": "slack"
                    },
                    {
                        "text": {
                            "type": "plain_text",
                            "text": "Mobile",
                            "emoji": true
                        },
                        "value": "mobile"
                    },
                    {
                        "text": {
                            "type": "plain_text",
                            "text": "MapGT",
                            "emoji": true
                        },
                        "value": "mapgt"
                    }
                ]
            }
        }
    ]
}

const unauthorizedHomeJson = (user) => {
    return {
        "user_id": user,
        "view": {
            "type": "home",
            "blocks": unauthorizedHomeJsonBlocks()
        }
    }
}

const unauthorizedHomeJsonBlocks = () => {
    return [
        {
            "type": "section",
            "text": {
                "type": "mrkdwn",
                "text": "*Sorry, you do not have access to this page. Please contact a HackGT tech member for more information*"
            }
        }
    ]
}

const modalJson = (trigger_id, selected_platforms) => {
    return  {
        "trigger_id": trigger_id,
        "view": {
            "type": "modal",
            "callback_id": "buzzer_submit",
            "notify_on_close": true,
            "title": {
                "type": "plain_text",
                "text": "Buzzer App",
                "emoji": true
            },
            "submit": {
                "type": "plain_text",
                "text": "Submit",
                "emoji": true
            },
            "close": {
                "type": "plain_text",
                "text": "Cancel",
                "emoji": true
            },
            "blocks": modalJsonBlocks(selected_platforms)
        }
    }
}

const modalJsonBlocks = (selected_platforms) => {
    let blocks = [];
    blocks.push(
    {
        "type": "input",
        "block_id": "none1",
        "element": {
            "type": "plain_text_input",
            "action_id": "message",
            "multiline": true,
            "placeholder": {
                "type": "plain_text",
                "text": "Enter your message here"
            }
        },
        "label": {
            "type": "plain_text",
            "text": "Message"
        }
    });
    for (let p in selected_platforms) {
        console.log(selected_platforms[p].value)
        if (selected_platforms[p].value == "live_site") {
            blocks.push({
                "type": "divider",
                "block_id": "none2"
            });
            blocks.push({
                "type": "section",
                "block_id": "none3",
			    "text": {
				    "type": "mrkdwn",
				    "text": "*Live Site*"
			    }
            });
            blocks.push({
                "type": "input",
                "block_id": "live_site",
                "element": {
                    "type": "plain_text_input",
                    "action_id": "live_site_title",
                    "placeholder": {
                        "type": "plain_text",
                        "text": "Enter Title"
                    }
                },
                "label": {
                    "type": "plain_text",
                    "text": "Title",
                    "emoji": true
                }
            });
            blocks.push({
                "type": "input",
                "block_id": "none4",
                "element": {
                    "type": "plain_text_input",
                    "action_id": "live_site_icon",
                    "placeholder": {
                        "type": "plain_text",
                        "text": "Insert Icon"
                    }
                },
                "label": {
                    "type": "plain_text",
                    "text": "Icon",
                    "emoji": true
                }
            });
        }
        if (selected_platforms[p].value == "twitter") {
            blocks.push({
                "type": "section",
                "block_id": "twitter",
			    "text": {
				    "type": "mrkdwn",
				    "text": " "
			    }
            });
        }
        if (selected_platforms[p].value == "twilio") {
            blocks.push({
                "type": "divider",
                "block_id": "none5"
            });
            blocks.push({
                "type": "section",
                "block_id": "none6",
			    "text": {
				    "type": "mrkdwn",
				    "text": "*Twilio*"
			    }
            });
            blocks.push({
                "type": "input",
                "block_id": "twilio",
                "element": {
                    "type": "plain_text_input",
                    "action_id": "twilio_numbers",
                    "placeholder": {
                        "type": "plain_text",
                        "text": "Input Numbers"
                    }
                },
                "label": {
                    "type": "plain_text",
                    "text": "Numbers",
                    "emoji": true
                }
            });
            blocks.push({
                "type": "input",
                "block_id": "none7",
                "element": {
                    "type": "plain_text_input",
                    "action_id": "twilio_groups",
                    "placeholder": {
                        "type": "plain_text",
                        "text": "Input Groups"
                    }
                },
                "label": {
                    "type": "plain_text",
                    "text": "Groups",
                    "emoji": true
                }
            });
        }
        if (selected_platforms[p].value == "slack") {
            blocks.push({
                "type": "divider",
                "block_id": "none8"
            });
            blocks.push({
                "type": "section",
                "block_id": "none9",
			    "text": {
				    "type": "mrkdwn",
				    "text": "*Slack*"
			    }
            });
            blocks.push({
                "type": "input",
                "block_id": "slack",
                "element": {
                    "type": "multi_channels_select",
                    "action_id": "slack_channels",
                    "placeholder": {
                        "type": "plain_text",
                        "text": "Select channels",
                        "emoji": true
                    }
                },
                "label": {
                    "type": "plain_text",
                    "text": "Channel",
                    "emoji": true
                }
            });
            blocks.push({
                "type": "input",
                "block_id": "none10",
                "element": {
                    "type": "checkboxes",
                    "action_id": "slack_at",
                    "options": [
                        {
                            "text": {
                                "type": "plain_text",
                                "text": "@channel",
                                "emoji": true
                            },
                            "value": "channel"
                        },
                        {
                            "text": {
                                "type": "plain_text",
                                "text": "@here",
                                "emoji": true
                            },
                            "value": "here"
                        }
                    ]
                },
                "label": {
                    "type": "plain_text",
                    "text": " ",
                    "emoji": true
                }, 
                "optional": true
            });
        }
        if (selected_platforms[p].value == "mobile") {
            blocks.push({
                "type": "divider",
                "block_id": "none11"
            });
            blocks.push({
                "type": "section",
                "block_id": "none12",
			    "text": {
				    "type": "mrkdwn",
				    "text": "*Mobile*"
			    }
            });
            blocks.push({
                "type": "input",
                "block_id": "mobile",
                "element": {
                    "type": "plain_text_input",
                    "action_id": "mobile_header",
                    "placeholder": {
                        "type": "plain_text",
                        "text": "Enter header"
                    }
                },
                "label": {
                    "type": "plain_text",
                    "text": "Header",
                    "emoji": true
                }
            });
            blocks.push({
                "type": "input",
                "block_id": "none13",
                "element": {
                    "type": "plain_text_input",
                    "action_id": "mobile_id",
                    "placeholder": {
                        "type": "plain_text",
                        "text": "Enter id"
                    }
                },
                "label": {
                    "type": "plain_text",
                    "text": "ID",
                    "emoji": true
                }
            });
        }
        if (selected_platforms[p].value == "mapgt") {
            blocks.push({
                "type": "divider",
                "block_id": "none14"
            });
            blocks.push({
                "type": "section",
                "block_id": "none15",
			    "text": {
				    "type": "mrkdwn",
				    "text": "*MapGT*"
			    }
            });
            blocks.push(
                {
                    "type": "input",
                    "block_id": "mapgt",
                    "element": {
                        "type": "external_select",
                        "action_id": "mapgt_location",
                        "placeholder": {
                            "type": "plain_text",
                            "text": "Select location",
                            "emoji": true
                        },
                        "min_query_length": 0
                    },
                    "label": {
                        "type": "plain_text",
                        "text": "Location",
                        "emoji": true
                    }, 
                    "optional": true
                }
            );
            blocks.push({
                "type": "input",
                "block_id": "none16",
                "element": {
                    "type": "plain_text_input",
                    "action_id": "mapgt_title",
                    "placeholder": {
                        "type": "plain_text",
                        "text": "Enter title"
                    }
                },
                "label": {
                    "type": "plain_text",
                    "text": "Title",
                    "emoji": true
                }
            });
            blocks.push(
                {
                    "type": "input",
                    "block_id": "none17",
                    "element": {
                        "type": "static_select",
                        "action_id": "mapgt_time",
                        "placeholder": {
                            "type": "plain_text",
                            "text": "Select time",
                            "emoji": true
                        },
                        "options": timeOptions
                    },
                    "label": {
                        "type": "plain_text",
                        "text": "Time",
                        "emoji": true
                    }
                }
            );
        }
    }
    return blocks;
}

const successJson = () => {
    return {
        "response_action": "update",
        "view": {
            "type": "modal",
            "title": {
                "type": "plain_text",
                "text": "Buzzer Success"
            },
            "close": {
                "type": "plain_text",
                "text": "Done",
                "emoji": true
            },
            "blocks": [
                {
                    "type": "section",
                    "text": {
                        "type": "mrkdwn",
                        "text": "*Your buzzer notifications have been sent!*"
                    }
                }
            ]
        }
    }
}

const failureJson = (error) => {
    return {
        "response_action": "update",
        "view": {
            "type": "modal",
            "title": {
                "type": "plain_text",
                "text": "Buzzer Error"
            },
            "close": {
                "type": "plain_text",
                "text": "Done",
                "emoji": true
            },
            "blocks": [
                {
                    "type": "section",
                    "text": {
                        "type": "mrkdwn",
                        "text": "*:( There was an error sending your notification. Please contact a member of the tech team*"
                    }
                }
            ]
        }
    }
}

module.exports = {
    homeJson,
    homeJsonBlocks,
    unauthorizedHomeJson,
    unauthorizedHomeJsonBlocks,
    modalJson,
    successJson,
    failureJson
}